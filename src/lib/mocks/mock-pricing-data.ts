import type {
  PricingSkuSummary,
  PricingDetail,
  RepricingRule,
  PricingExperiment,
  PricingKpiSnapshot,
} from '../services/pricing-types';

export const mockPricingSkus: PricingSkuSummary[] = [
  {
    skuId: 'sku-001',
    skuCode: 'WH-BT-2024-BLK',
    productId: 'prod-001',
    productName: 'Wireless Bluetooth Headphones (Black)',
    mainImageUrl: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400',
    channelType: 'AMAZON',
    channelName: 'Amazon US',
    region: 'US',
    currentPrice: 79.99,
    currency: 'USD',
    costPrice: 42.00,
    estimatedFees: 12.00,
    marginPercent: 32.5,
    strategyType: 'COMPETITIVE',
    ruleName: 'Premium Audio - Competitive Match',
    hasActiveExperiment: false,
    buyBoxShare: 42.3,
    lastPriceChangeAt: '2024-06-15T10:22:00Z',
  },
  {
    skuId: 'sku-002',
    skuCode: 'WH-BT-2024-WHT',
    productId: 'prod-001',
    productName: 'Wireless Bluetooth Headphones (White)',
    mainImageUrl: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400',
    channelType: 'AMAZON',
    channelName: 'Amazon US',
    region: 'US',
    currentPrice: 77.99,
    currency: 'USD',
    costPrice: 42.00,
    estimatedFees: 11.70,
    marginPercent: 30.0,
    strategyType: 'COMPETITIVE',
    ruleName: 'Premium Audio - Competitive Match',
    hasActiveExperiment: true,
    buyBoxShare: 38.1,
    lastPriceChangeAt: '2024-06-18T14:10:00Z',
  },
  {
    skuId: 'sku-003',
    skuCode: 'SPKR-PORT-2024',
    productId: 'prod-002',
    productName: 'Portable Bluetooth Speaker',
    mainImageUrl: 'https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?w=400',
    channelType: 'SHOPIFY',
    channelName: 'TechStore Official',
    region: 'US',
    currentPrice: 49.00,
    currency: 'USD',
    costPrice: 22.00,
    estimatedFees: 4.90,
    marginPercent: 45.1,
    strategyType: 'PREMIUM',
    hasActiveExperiment: false,
    lastPriceChangeAt: '2024-06-10T09:00:00Z',
  },
  {
    skuId: 'sku-004',
    skuCode: 'USB-C-CABLE-6FT',
    productId: 'prod-003',
    productName: 'USB-C Fast Charging Cable (6ft)',
    channelType: 'AMAZON',
    channelName: 'Amazon US',
    region: 'US',
    currentPrice: 12.99,
    currency: 'USD',
    costPrice: 3.20,
    estimatedFees: 2.60,
    marginPercent: 55.9,
    strategyType: 'FIXED_MARGIN',
    ruleName: 'Accessories - 50% Margin Floor',
    hasActiveExperiment: false,
    buyBoxShare: 61.2,
    lastPriceChangeAt: '2024-06-05T08:00:00Z',
  },
  {
    skuId: 'sku-005',
    skuCode: 'WATCH-SMART-BLK-42MM',
    productId: 'prod-004',
    productName: 'Smart Watch (Black, 42mm)',
    mainImageUrl: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400',
    channelType: 'RAKUTEN',
    channelName: 'Rakuten Ichiba',
    region: 'JP',
    currentPrice: 22800,
    currency: 'JPY',
    costPrice: 12000,
    estimatedFees: 2280,
    marginPercent: 36.8,
    strategyType: 'COMPETITIVE',
    hasActiveExperiment: false,
    lastPriceChangeAt: '2024-06-12T11:30:00Z',
  },
  {
    skuId: 'sku-006',
    skuCode: 'EARBUDS-PRO-WHT',
    productId: 'prod-005',
    productName: 'Pro Wireless Earbuds (White)',
    mainImageUrl: 'https://images.unsplash.com/photo-1590658268037-6bf12165a8df?w=400',
    channelType: 'AMAZON',
    channelName: 'Amazon US',
    region: 'US',
    currentPrice: 129.99,
    currency: 'USD',
    costPrice: 68.00,
    estimatedFees: 19.50,
    marginPercent: 32.7,
    strategyType: 'COMPETITIVE',
    ruleName: 'Premium Audio - Competitive Match',
    hasActiveExperiment: false,
    buyBoxShare: 51.4,
    lastPriceChangeAt: '2024-06-14T16:20:00Z',
  },
  {
    skuId: 'sku-007',
    skuCode: 'LAPTOP-STAND-ALU',
    productId: 'prod-006',
    productName: 'Aluminum Laptop Stand',
    mainImageUrl: 'https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=400',
    channelType: 'SHOPIFY',
    channelName: 'TechStore Official',
    region: 'US',
    currentPrice: 39.99,
    currency: 'USD',
    costPrice: 15.00,
    estimatedFees: 4.00,
    marginPercent: 52.5,
    strategyType: 'PREMIUM',
    hasActiveExperiment: false,
    lastPriceChangeAt: '2024-06-08T10:00:00Z',
  },
  {
    skuId: 'sku-008',
    skuCode: 'MOUSE-WIRELESS-BLK',
    productId: 'prod-007',
    productName: 'Wireless Mouse (Black)',
    channelType: 'SHOPEE',
    channelName: 'Shopee Singapore',
    region: 'SG',
    currentPrice: 24.90,
    currency: 'SGD',
    costPrice: 8.00,
    estimatedFees: 2.50,
    marginPercent: 57.4,
    strategyType: 'FIXED_MARGIN',
    hasActiveExperiment: false,
    lastPriceChangeAt: '2024-06-11T13:45:00Z',
  },
  {
    skuId: 'sku-009',
    skuCode: 'TABLET-CASE-10IN',
    productId: 'prod-008',
    productName: '10-inch Tablet Case (Navy)',
    channelType: 'EBAY',
    channelName: 'eBay US',
    region: 'US',
    currentPrice: 18.50,
    currency: 'USD',
    costPrice: 6.50,
    estimatedFees: 2.78,
    marginPercent: 50.1,
    strategyType: 'FIXED_MARGIN',
    hasActiveExperiment: false,
    lastPriceChangeAt: '2024-06-09T09:30:00Z',
  },
  {
    skuId: 'sku-010',
    skuCode: 'CABLE-ORGANIZER-3PC',
    productId: 'prod-009',
    productName: 'Cable Organizer (3-pack)',
    channelType: 'AMAZON',
    channelName: 'Amazon US',
    region: 'US',
    currentPrice: 9.99,
    currency: 'USD',
    costPrice: 2.40,
    estimatedFees: 2.00,
    marginPercent: 55.8,
    strategyType: 'FIXED_MARGIN',
    ruleName: 'Accessories - 50% Margin Floor',
    hasActiveExperiment: true,
    buyBoxShare: 67.9,
    lastPriceChangeAt: '2024-06-17T12:00:00Z',
  },
  {
    skuId: 'sku-011',
    skuCode: 'MONITOR-ARM-DUAL',
    productId: 'prod-010',
    productName: 'Dual Monitor Arm Mount',
    channelType: 'WALMART',
    channelName: 'Walmart US',
    region: 'US',
    currentPrice: 89.00,
    currency: 'USD',
    costPrice: 52.00,
    estimatedFees: 13.35,
    marginPercent: 26.5,
    strategyType: 'COMPETITIVE',
    hasActiveExperiment: false,
    lastPriceChangeAt: '2024-06-13T15:10:00Z',
  },
  {
    skuId: 'sku-012',
    skuCode: 'HDMI-CABLE-10FT',
    productId: 'prod-011',
    productName: 'HDMI Cable (10ft, 4K)',
    channelType: 'AMAZON',
    channelName: 'Amazon US',
    region: 'US',
    currentPrice: 15.99,
    currency: 'USD',
    costPrice: 4.20,
    estimatedFees: 2.80,
    marginPercent: 55.9,
    strategyType: 'FIXED_MARGIN',
    ruleName: 'Accessories - 50% Margin Floor',
    hasActiveExperiment: false,
    buyBoxShare: 58.3,
    lastPriceChangeAt: '2024-06-07T07:30:00Z',
  },
];

export const mockPricingDetail: Record<string, PricingDetail> = {
  'sku-001': {
    sku: mockPricingSkus[0],
    channelPrices: [
      {
        channelType: 'AMAZON',
        channelName: 'Amazon US',
        region: 'US',
        currentPrice: 79.99,
        currency: 'USD',
        costPrice: 42.00,
        estimatedFees: 12.00,
        marginPercent: 32.5,
        minPrice: 70.00,
        maxPrice: 99.99,
      },
      {
        channelType: 'WALMART',
        channelName: 'Walmart US',
        region: 'US',
        currentPrice: 84.99,
        currency: 'USD',
        costPrice: 42.00,
        estimatedFees: 12.75,
        marginPercent: 35.6,
        minPrice: 70.00,
        maxPrice: 99.99,
      },
    ],
    competitors: [
      {
        competitorName: 'BrandXYZ',
        price: 77.50,
        currency: 'USD',
        lastUpdatedAt: '2024-06-20T10:00:00Z',
        isBuyBoxWinner: true,
      },
      {
        competitorName: 'TechGear Inc.',
        price: 82.99,
        currency: 'USD',
        lastUpdatedAt: '2024-06-20T09:45:00Z',
      },
      {
        competitorName: 'AudioPro',
        price: 79.00,
        currency: 'USD',
        lastUpdatedAt: '2024-06-20T08:30:00Z',
      },
    ],
    priceHistory: [
      { at: '2024-06-15T10:22:00Z', price: 79.99, currency: 'USD', reason: 'Repricing rule: Premium Audio - Competitive Match' },
      { at: '2024-06-10T14:10:00Z', price: 82.99, currency: 'USD', reason: 'Manual adjustment' },
      { at: '2024-06-05T09:00:00Z', price: 84.99, currency: 'USD' },
      { at: '2024-06-01T08:00:00Z', price: 89.99, currency: 'USD', reason: 'New product launch' },
    ],
  },
};

export const mockRepricingRules: RepricingRule[] = [
  {
    id: 'rule-001',
    name: 'Premium Audio - Competitive Match',
    status: 'ACTIVE',
    strategyType: 'COMPETITIVE',
    appliesTo: 'BY_CATEGORY',
    conditionsSummary: 'Category: Audio | Price within 5% of lowest competitor | Min margin: 25%',
    targetMarginPercent: 30,
    maxDiscountPercent: 15,
    minPriceFloorType: 'COST_PLUS',
    createdAt: '2024-05-01T10:00:00Z',
    updatedAt: '2024-06-10T14:20:00Z',
  },
  {
    id: 'rule-002',
    name: 'Accessories - 50% Margin Floor',
    status: 'ACTIVE',
    strategyType: 'FIXED_MARGIN',
    appliesTo: 'BY_TAG',
    conditionsSummary: 'Tag: Accessories | Maintain 50% margin | No competitive matching',
    targetMarginPercent: 50,
    maxDiscountPercent: 5,
    minPriceFloorType: 'COST_PLUS',
    createdAt: '2024-04-15T09:00:00Z',
    updatedAt: '2024-04-15T09:00:00Z',
  },
  {
    id: 'rule-003',
    name: 'Clearance Items - Fast Sell',
    status: 'PAUSED',
    strategyType: 'CLEARANCE',
    appliesTo: 'BY_TAG',
    conditionsSummary: 'Tag: Clearance | Aggressive pricing | Min margin: 5%',
    targetMarginPercent: 10,
    maxDiscountPercent: 40,
    minPriceFloorType: 'ABSOLUTE',
    createdAt: '2024-03-20T11:30:00Z',
    updatedAt: '2024-06-18T16:00:00Z',
  },
  {
    id: 'rule-004',
    name: 'Premium Brand - No Discount',
    status: 'ACTIVE',
    strategyType: 'PREMIUM',
    appliesTo: 'BY_BRAND',
    conditionsSummary: 'Brand: PremiumBrand | Fixed pricing | No competitive match',
    targetMarginPercent: 40,
    maxDiscountPercent: 0,
    minPriceFloorType: 'COST_PLUS',
    createdAt: '2024-05-10T08:00:00Z',
    updatedAt: '2024-05-10T08:00:00Z',
  },
];

export const mockPricingExperiments: PricingExperiment[] = [
  {
    id: 'exp-001',
    name: 'WH-BT White: $77.99 vs $79.99',
    status: 'RUNNING',
    skuId: 'sku-002',
    skuCode: 'WH-BT-2024-WHT',
    productName: 'Wireless Bluetooth Headphones (White)',
    channelType: 'AMAZON',
    channelName: 'Amazon US',
    region: 'US',
    variantA: { price: 77.99, conversionRate: 4.2, revenue: 9847.80 },
    variantB: { price: 79.99, conversionRate: 3.8, revenue: 8799.10 },
    startedAt: '2024-06-18T00:00:00Z',
    endsAt: '2024-06-25T23:59:59Z',
  },
  {
    id: 'exp-002',
    name: 'Cable Organizer: $9.99 vs $11.99',
    status: 'RUNNING',
    skuId: 'sku-010',
    skuCode: 'CABLE-ORGANIZER-3PC',
    productName: 'Cable Organizer (3-pack)',
    channelType: 'AMAZON',
    channelName: 'Amazon US',
    region: 'US',
    variantA: { price: 9.99, conversionRate: 6.8, revenue: 3396.60 },
    variantB: { price: 11.99, conversionRate: 5.2, revenue: 2997.60 },
    startedAt: '2024-06-17T00:00:00Z',
    endsAt: '2024-06-24T23:59:59Z',
  },
  {
    id: 'exp-003',
    name: 'HDMI Cable: $15.99 vs $17.99',
    status: 'COMPLETED',
    skuId: 'sku-012',
    skuCode: 'HDMI-CABLE-10FT',
    productName: 'HDMI Cable (10ft, 4K)',
    channelType: 'AMAZON',
    channelName: 'Amazon US',
    region: 'US',
    variantA: { price: 15.99, conversionRate: 7.1, revenue: 5676.90 },
    variantB: { price: 17.99, conversionRate: 5.9, revenue: 5309.10 },
    startedAt: '2024-06-01T00:00:00Z',
    endsAt: '2024-06-14T23:59:59Z',
    winningVariant: 'A',
  },
];

export const mockPricingKpiSnapshot: PricingKpiSnapshot = {
  averageMargin: 42.3,
  skusWithNegativeMargin: 0,
  skusWithLowMargin: 2,
  skusWithActiveRules: 8,
  skusInExperiments: 2,
};

export function getMockPricingSnapshot() {
  return { skus: mockPricingSkus, kpis: mockPricingKpiSnapshot };
}

export function getMockPricingDetail(skuId: string): PricingDetail | null {
  return mockPricingDetail[skuId] || null;
}

export function getMockRepricingRules(): RepricingRule[] {
  return mockRepricingRules;
}

export function getMockPricingExperiments(): PricingExperiment[] {
  return mockPricingExperiments;
}
