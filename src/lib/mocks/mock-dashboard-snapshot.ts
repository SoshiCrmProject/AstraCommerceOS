import {
  type DashboardSnapshot,
  type DashboardRevenueTimeseriesPoint,
  type DashboardSkuInsight,
} from "../services/dashboard-types";

const series: DashboardRevenueTimeseriesPoint[] = [
  { date: "2025-02-01", revenue: 420000, orders: 11000, profit: 102000 },
  { date: "2025-02-02", revenue: 438000, orders: 11520, profit: 108000 },
  { date: "2025-02-03", revenue: 451000, orders: 12010, profit: 112200 },
  { date: "2025-02-04", revenue: 462500, orders: 12300, profit: 116400 },
  { date: "2025-02-05", revenue: 488000, orders: 12840, profit: 121900 },
  { date: "2025-02-06", revenue: 472000, orders: 12420, profit: 118200 },
  { date: "2025-02-07", revenue: 503400, orders: 12980, profit: 126800 }
];

const topSkus: DashboardSkuInsight[] = [
  {
    sku: "SKU-1001",
    productName: "Ergonomic Office Chair Pro",
    channelName: "Amazon JP",
    metric: "TOP_SELLER",
    metricValue: "4,320 orders",
    trend: "up",
    marginPercent: 32,
    orders7d: 4320,
    inventoryStatus: "ok",
  },
  {
    sku: "SKU-1002",
    productName: "Wireless ANC Headphones",
    channelName: "Shopify D2C",
    metric: "AT_RISK",
    metricValue: "Stock < 48",
    trend: "down",
    marginPercent: 27,
    orders7d: 1890,
    inventoryStatus: "low",
  },
  {
    sku: "SKU-1003",
    productName: "Travel Backpack 28L",
    channelName: "Rakuten",
    metric: "RISING_STAR",
    metricValue: "+32% WoW",
    trend: "up",
    marginPercent: 30,
    orders7d: 980,
    inventoryStatus: "ok",
  },
  {
    sku: "SKU-1004",
    productName: "Smart Kettle Pro",
    channelName: "TikTok Shop",
    metric: "LOW_MARGIN",
    metricValue: "Margin 12%",
    trend: "flat",
    marginPercent: 12,
    orders7d: 740,
    inventoryStatus: "oos",
  }
];

export const mockDashboardSnapshot: DashboardSnapshot = {
  kpis: {
    revenue24h: 482900,
    revenue7d: 3241000,
    netProfit7d: 1184000,
    orders24h: 12842,
    avgOrderValue: 37.6,
    buyBoxShare: 78.2,
    fulfillmentSla: 96.4,
    inventoryRiskCount: 42,
    negativeReviewCount: 12,
  },
  channels: [
    {
      id: "amazon-jp",
      name: "Amazon Japan",
      type: "AMAZON",
      region: "JP",
      status: "HEALTHY",
      revenue7d: 1820000,
      orders7d: 54000,
      margin7d: 32,
      buyBoxShare: 82,
      lastSyncAt: "2025-02-07T02:16:00Z",
    },
    {
      id: "shopify-d2c",
      name: "Shopify D2C",
      type: "SHOPIFY",
      region: "Global",
      status: "HEALTHY",
      revenue7d: 780000,
      orders7d: 22100,
      margin7d: 35,
      buyBoxShare: 0,
      lastSyncAt: "2025-02-07T02:12:00Z",
    },
    {
      id: "rakuten",
      name: "Rakuten",
      type: "RAKUTEN",
      region: "JP",
      status: "WARNING",
      revenue7d: 264000,
      orders7d: 8400,
      margin7d: 29,
      buyBoxShare: 69,
      lastSyncAt: "2025-02-07T01:56:00Z",
    },
    {
      id: "tiktok-shop",
      name: "TikTok Shop",
      type: "TIKTOK_SHOP",
      region: "SEA",
      status: "HEALTHY",
      revenue7d: 218000,
      orders7d: 6900,
      margin7d: 24,
      buyBoxShare: 0,
      lastSyncAt: "2025-02-07T02:08:00Z",
    }
  ],
  alerts: [
    {
      id: "alert-1",
      severity: "critical",
      title: "Low stock on 18 SKUs",
      description: "Reorder recommended for JP-3PL and East Coast FC within 48 hours.",
      ctaLabel: "Review inventory",
      ctaHref: "/inventory?filter=low",
      category: "inventory",
    },
    {
      id: "alert-2",
      severity: "warning",
      title: "Negative review spike",
      description: "5 critical reviews on TikTok Shop Â· sentiment trending down.",
      ctaLabel: "Open reviews",
      ctaHref: "/reviews?filter=negative",
      category: "reviews",
    },
    {
      id: "alert-3",
      severity: "info",
      title: "Automation paused",
      description: "Buy Box recovery rule disabled after 3 failed attempts.",
      ctaLabel: "View automations",
      ctaHref: "/automation",
      category: "automation",
    }
  ],
  topSkus,
  revenueSeries: series,
  automation: {
    totalRules: 48,
    activeRules: 42,
    failedExecutions24h: 3,
    lastExecutionAt: "2025-02-07T02:12:00Z",
    mostTriggeredRule: {
      name: "Buy Box recovery",
      triggerDescription: "When buy box lost > 3% at channel level",
      executions24h: 182,
    },
  },
  reviews: {
    avgRating30d: 4.28,
    negativeCount30d: 18,
    positiveCount30d: 224,
    topIssueKeywords: ["packaging", "delayed delivery", "returns friction"],
  },
};
